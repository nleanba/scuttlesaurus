<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <title>Tricerascuttler</title>
</head>

<body>
    Not seeing mutch? Maybe try <a href="http://localhost:8001/?uri=ssb:feed/ed25519/-qNos2XP9dfREX8qgNeA7V_KZPEYkRwreIuDqTWIqOI=">another profile</a>.
    
    <div id="main"></div>
    
    <script type="module" src="FeedAuthorElement.js"></script>
    <script type="module" src="ProfileElement.js"></script>
    <script type="module">
        import { sigilToIri, mainIdentity }  from "./web-util.js";
        
        /** either specified as query parameter or the main identity */
        async function mainResource() {
            const searchParams = new URLSearchParams(document.location.search);
            return searchParams.has("uri") ? searchParams.get("uri") : sigilToIri(await mainIdentity());
        }
        const uri = await mainResource()
        main.innerHTML = `<ssb-profile src="${uri}"></ssb-profile>`;
        //mainProfile.setAttribute("src", await mainResource());
    </script>
</body>

</html>